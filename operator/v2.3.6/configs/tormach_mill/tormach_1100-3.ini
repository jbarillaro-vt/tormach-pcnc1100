#
# This file is machine generated. Do not edit.
# Date generated: 2022-10-12
# Created from files:
#     /home/operator/tmc/configs/tormach_mill/tormach_1100-3_specific.ini
#     /home/operator/tmc/configs/tormach_mill/tormach_mill_base.ini
#     /home/operator/tmc/configs/common/4th_axes.inc
#
# Model: 1100-3
#


[MACHINE_CONFIG]
SMARTCOOL_VMOUNT_DISTANCE = 3.942
SMARTCOOL_HMOUNT_DISTANCE = 6.808
A_AXIS_SUPPORT = A_AXIS_6_8_INCH A_AXIS_4_INCH
ATC_GEN2_TRAY_SLOTS = 12
ATC_GEN2_VFD_REPORTING = LEVEL


[EMC]
MACHINE = 1100-3
DEBUG = 0x00000000  # no tracing

[DISPLAY]
DISPLAY = tormach_mill_ui.py
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
MAX_FEED_OVERRIDE = 2.0
INTRO_GRAPHIC = tormach_mill_splash.gif
INTRO_TIME = 2
PROGRAM_PREFIX = ~/gcode/subroutines
INCREMENTS = .1in .05in .01in .005in .001in .0005in .0001in
DEFAULT_LINEAR_VELOCITY = 1.83
DEFAULT_ANGULAR_VELOCITY = 0.6
GEOMETRY = XYZ

[REDIS]
SERVER_PATH = ~/tmc/bin/redis-server
SERVER_ARGS = --dir ~/mill_data --dbfilename dump.rdb --save 3600 1 --save 300 100 --save 60 10000 --appendonly yes --appendfsync everysec --auto-aof-rewrite-percentage 100 --auto-aof-rewrite-min-size 64mb

[TASK]
TASK = milltask
CYCLE_TIME = 0.010
LOGFILE_PREFIX = ~/gcode

[RS274NGC]
ON_ABORT_COMMAND = o<on_abort> call
PARAMETER_FILE = ~/mill_data/emc.var
RS274NGC_STARTUP_CODE = G8 G17 G20 G90 G64
FEATURES = 12
SUBROUTINE_PATH = ~/tmc/configs/tormach_mill/nc_subs:~/tmc/subroutines:~/gcode/subroutines
SINGLE_BLOCK_LOCAL_SUB = YES
SINGLE_BLOCK_EXTERNAL_SUB = NO

USER_M_PATH = nc_subs

REMAP=M6 modalgroup=6 argspec=q prolog=zbotatc_M6_prolog ngc=tormach_tool_change
REMAP=M61 modalgroup=6 argspec=Q py=zbotatc_M61
REMAP=M7 modalgroup=8 argspec=pqre py=smart_cool_M7
REMAP=M8 modalgroup=8 argspec=pqre py=smart_cool_M8
REMAP=M9 modalgroup=8 py=smart_cool_M9
REMAP = M80 modalgroup=7 py=save_user_modals_M80
REMAP = M81 modalgroup=7 py=restore_user_modals_M81


REMAP=g30 modalgroup=1   argspec=xyza py=g300
REMAP=m998 modalgroup=5 argspec=xyza py=m998
REMAP=g50 modalgroup=1                py=g500
REMAP=g47 modalgroup=1 argspec=xyZpqRd py=g470
REMAP=g74 modalgroup=1 argspec=rpkxyza prolog=tapping_cycle_prolog py=g740
REMAP=g84 modalgroup=1 argspec=rpkxyza prolog=tapping_cycle_prolog py=g840

[PYTHON]
TOPLEVEL= python/toplevel.py
PATH_PREPEND= python
LOG_LEVEL=0

[EMCMOT]
EMCMOT = motmod
COMM_TIMEOUT = 1.0
COMM_WAIT = 0.010
SERVO_PERIOD = 1000000

[HOSTMOT2]
DRIVER=hm2_pci
BOARD=5i25
DRIVER_PARAMS="config= num_encoders=0 num_pwmgens=1 num_3pwmgens=0 num_stepgens=5 "
BITFILE0=mesa/tormach_mill3.bit
DPLL_TIMER_NUMBER = 1
DPLL_TIMER_US= -100

[HAL]
HALUI = halui
HALFILE = tormach_mill_mesa.hal
POSTGUI_SHUTTLEXPRESS_HALFILE = millshuttlexpress.hal
POSTGUI_VMC_CONSOLE_HALFILE = ../common/operator_console_controls_4axis.hal
POSTGUI_HALFILE = postgui_tormach_mill.hal

[TRAJ]
AXES = 4
COORDINATES = X Y Z A
LINEAR_UNITS = inch
ANGULAR_UNITS = degree
DEFAULT_VELOCITY = 1.5
MAX_VELOCITY = 3.0
MAX_ANGULAR_VELOCITY = 22.0
NO_FORCE_HOMING = 1
POSITION_FILE = ~/mill_data/position.txt
DEFAULT_TOLERANCE = 0.002
DEFAULT_NAIVECAM_TOLERANCE = 0.0

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = ~/mill_data/tool2.tbl

[SPINDLE]
LO_RANGE_MIN = 100
LO_RANGE_MAX = 2000
HI_RANGE_MIN = 250
HI_RANGE_MAX = 5140
MIN_MCB_FREQUENCY = 500.0
MAX_MCB_FREQUENCY = 10900.0

COLLET_TYPE = TTS

STARTUP_DELAY = 3.0

VFD_RUNNING_FEEDBACK_RATIO = 3.0

SECONDS_TO_MAX_RPM = 5.4

HISPEED_MIN = 0
HISPEED_MAX = 0
HISPEED_STEP_RPM = 0
HISPEED_TOL_BELOW = 0
HISPEED_TOL_ABOVE = 0

ENCODER_SCALE = 1
ENCODER_DEADBAND = 8

DEADBAND = 0
P = -0.9
P2 = -1.8
I = 0.0
I2 = 0.0
D = 0.0
D2 = -0.032
FF0 = 0.0
FF1 = 0.0
FF2 = 0.0
BIAS = 0
MAX_OUTPUT = 0
MAX_ERROR = 1024
P2_TRANSITION = 0
ORIENT_BOOST_STEP = 0
ORIENT_BOOST_MIN = 0

LO_POWER_CURVE = (%(LO_RANGE_MIN)s, 0.15), (610, 1.5), (680, 1.5), (%(LO_RANGE_MAX)s, 0.68)
HI_POWER_CURVE = (%(HI_RANGE_MIN)s, 0.3), (1100, 1.5), (1900, 1.4), (%(HI_RANGE_MAX)s, 0.58)


[AXIS_0]
TYPE = LINEAR
HOME = 0.000

MAX_VELOCITY = 1.833
MAX_ACCELERATION = 15.0

STEPGEN_MAX_VEL = 2.2

STEPGEN_MAXACCEL = 37.5

MAX_JOG_VELOCITY_UPS = 1.833
MIN_JOG_VELOCITY_UPS = 0.008333

DIRSETUP = 10000
DIRHOLD = 10000
STEPLEN = 8000
STEPSPACE  = 5000

DEADBAND = 0
P = 1000
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0.00011
BIAS = 0
MAX_OUTPUT = 0
MAX_ERROR = 0.0005

SCALE = 10000.0

FERROR = 0.050
MIN_FERROR = 0.010

MIN_LIMIT = -0.000001
MAX_LIMIT = 18.000000
HOME_OFFSET = -0.025
HOME_SEARCH_VEL = -0.750
HOME_LATCH_VEL = 0.050
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1

[AXIS_1]
TYPE = LINEAR
MAX_VELOCITY = 1.833
MAX_ACCELERATION = 15.0

STEPGEN_MAX_VEL = 2.2

STEPGEN_MAXACCEL = 37.5

MAX_JOG_VELOCITY_UPS = 1.833
MIN_JOG_VELOCITY_UPS = 0.008333

DIRSETUP = 10000
DIRHOLD = 10000
STEPLEN = 8000
STEPSPACE  = 5000

DEADBAND = 0
P = 1000
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0.00011
BIAS = 0
MAX_OUTPUT = 0
MAX_ERROR = 0.0005

SCALE = 10000.0

FERROR = 0.050
MIN_FERROR = 0.010

MIN_LIMIT = -9.500
MAX_LIMIT = 0.000001
HOME = 0.000
HOME_OFFSET = 0.025
HOME_SEARCH_VEL = 0.750
HOME_LATCH_VEL = -0.050
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1

[AXIS_2]
TYPE = LINEAR
HOME = 0.000

MAX_VELOCITY = 1.500
MAX_ACCELERATION = 15.0

STEPGEN_MAX_VEL = 1.8

STEPGEN_MAXACCEL = 37.5

MAX_JOG_VELOCITY_UPS = 1.5
MIN_JOG_VELOCITY_UPS = 0.008333

DIRSETUP = 10000
DIRHOLD = 10000
STEPLEN = 8000
STEPSPACE  = 5000

DEADBAND = 0
P = 1000
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0.00011
BIAS = 0
MAX_OUTPUT = 0
MAX_ERROR = 0.0005

SCALE = -10000.0

FERROR = 0.050
MIN_FERROR = 0.010

MIN_LIMIT = -16.250
MAX_LIMIT = 0.000001
HOME_OFFSET = 0.025
HOME_SEARCH_VEL = 0.750
HOME_LATCH_VEL = -0.050
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 0

[AXIS_3]
TYPE = ANGULAR
HOME = 0.0

MAX_VELOCITY = 22.0
MAX_ACCELERATION = 69.0

STEPGEN_MAX_VEL = 26.4
STEPGEN_MAXACCEL = 172.5

MAX_JOG_VELOCITY_UPS = 22.0
MIN_JOG_VELOCITY_UPS = 0.15

DIRSETUP = 10000
DIRHOLD = 10000
STEPLEN = 8000
STEPSPACE  = 5000

DEADBAND = 0
P = 500
I = 0
D = 0
FF0 = 0
FF1 = 1
FF2 = 0.00011
BIAS = 0
MAX_OUTPUT = 0
MAX_ERROR = 0.0005

SCALE = 500.0

FERROR = 15.0
MIN_FERROR = 15.0
MIN_LIMIT = -99999999.0
MAX_LIMIT = 99999999.0

HOME_OFFSET = 0.000
HOME_SEARCH_VEL = 0.000
HOME_LATCH_VEL = 0.000

HOME_OFFSET_HOMING_KIT = 0.000
HOME_SEARCH_VEL_HOMING_KIT = 5.000
HOME_LATCH_VEL_HOMING_KIT = 0.500

HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1






[A_AXIS_4_INCH]
MAX_VELOCITY = 120.0
MAX_ACCELERATION = 80.0
STEPGEN_MAX_VEL = 150.0
STEPGEN_MAXACCEL = 100.0
MAX_JOG_VELOCITY_UPS = 120.0
MIN_JOG_VELOCITY_UPS = 0.15
SCALE = 283.333333

[A_AXIS_6_8_INCH]
MAX_VELOCITY = 22.0
MAX_ACCELERATION = 69.0
STEPGEN_MAX_VEL = 26.4
STEPGEN_MAXACCEL = 82.8
MAX_JOG_VELOCITY_UPS = 22.0
MIN_JOG_VELOCITY_UPS = 0.15
SCALE = 500.0

[A_AXIS_440_RT]
MAX_VELOCITY = 600.0
MAX_ACCELERATION = 400.0
STEPGEN_MAX_VEL = 720.0
STEPGEN_MAXACCEL = 480.0
MAX_JOG_VELOCITY_UPS = 120.0
MIN_JOG_VELOCITY_UPS = 0.15
SCALE = 5.55555